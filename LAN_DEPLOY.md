# 🎓 局域网部署指南

## 🚀 一键启动

在项目根目录运行：

```bash
./start_lan.sh
```

脚本会自动：
- ✅ 检测你的局域网IP
- ✅ 启动后端服务（8000端口）
- ✅ 启动前端服务（5173端口）
- ✅ 显示同学访问地址

---

## 📱 同学如何访问

**告诉同学在浏览器输入**：
```
http://172.24.168.239:5173
```

**要求**：
- 同学必须连接**同一个WiFi**（同一局域网）
- 你的电脑保持开机不休眠

---

## 🛠️ 手动启动（如果需要）

### 1. 启动后端
```bash
cd api
python main.py
```

### 2. 启动前端（新终端窗口）
```bash
cd frontend
npm run dev -- --host 0.0.0.0
```

---

## ⚙️ 前端设置

同学首次访问需要配置：

1. 点击**⚙️设置**
2. 填写：
   - **API 地址**: `https://api.siliconflow.cn/v1` (默认)
   - **API 密钥**: 你的硅基流动密钥
3. 输入股票代码，开始分析

---

## 🔒 防火墙设置（如果连不上）

Mac打开防火墙端口：

```bash
# 检查防火墙状态
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --getglobalstate

# 如果开启，允许Python和Node
# 系统偏好设置 → 安全性与隐私 → 防火墙 → 防火墙选项
# 允许: Python, Node
```

---

## 🎯 优势

与云部署对比：

| 特性 | 云部署 | 局域网部署 |
|------|--------|-----------|
| 速度 | 慢（跨国） | **超快（局域网）** |
| 需要梯子 | ✅ 需要 | **❌ 不需要** |
| 成本 | 有限额 | **完全免费** |
| 访问范围 | 全球 | 校园局域网 |

---

## ❓ 常见问题

### Q: IP会变吗？
**A**: 学校DHCP可能分配不同IP，重启路由器后可能改变。每次启动前检查IP：
```bash
ipconfig getifaddr en0
```

### Q: 舍友连不上？
**A**: 
1. 确保在同一WiFi
2. 检查防火墙是否允许
3. 尝试ping你的IP：`ping 172.24.168.239`

### Q: 如何关闭服务？
**A**: 在运行`start_lan.sh`的终端按 `Ctrl+C`

---

## 🎉 部署完成

现在你的电脑就是一个**高性能股票分析服务器**！

同学只需要：
1. 连接同一WiFi
2. 打开浏览器访问 `http://172.24.168.239:5173`
3. 配置API密钥
4. 开始分析

**速度超快，无需梯子！** 🚀
