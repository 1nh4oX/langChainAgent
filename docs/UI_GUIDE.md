# ğŸ¨ Web UI ä½¿ç”¨æŒ‡å—

## ğŸ“– ç›®å½•

- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [ç•Œé¢ä»‹ç»](#ç•Œé¢ä»‹ç»)
- [åŠŸèƒ½è¯´æ˜](#åŠŸèƒ½è¯´æ˜)
- [é…ç½®é€‰é¡¹](#é…ç½®é€‰é¡¹)
- [ä½¿ç”¨æŠ€å·§](#ä½¿ç”¨æŠ€å·§)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£… Streamlit
pip install streamlit

# æˆ–å®‰è£…æ‰€æœ‰ä¾èµ–
pip install -r requirements.txt
```

### 2. é…ç½® API

ç¡®ä¿å·²é…ç½® `.env` æ–‡ä»¶ï¼š

```bash
cp .env.example .env
# ç¼–è¾‘ .env å¡«å…¥ä½ çš„ API å¯†é’¥
```

### 3. å¯åŠ¨ UI

```bash
# æ–¹å¼1: ç›´æ¥è¿è¡Œ
streamlit run ui/streamlit_app.py

# æ–¹å¼2: ä½¿ç”¨å¯åŠ¨è„šæœ¬
./run_ui.sh

# æ–¹å¼3: æŒ‡å®šç«¯å£
streamlit run ui/streamlit_app.py --server.port 8080
```

### 4. è®¿é—®ç•Œé¢

æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ï¼Œæˆ–æ‰‹åŠ¨è®¿é—®ï¼š
```
http://localhost:8501
```

---

## ğŸ–¥ï¸ ç•Œé¢ä»‹ç»

### ä¸»ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ“Š AI è‚¡ç¥¨åˆ†æåŠ©æ‰‹                  â”‚
â”‚        åŸºäº LangChain çš„æ™ºèƒ½åˆ†æç³»ç»Ÿ             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                       â”‚
â”‚ ä¾§è¾¹æ    â”‚           ä¸»å†…å®¹åŒº                    â”‚
â”‚          â”‚                                       â”‚
â”‚ âš™ï¸ é…ç½®  â”‚  ğŸ” è¾“å…¥æ¡†                            â”‚
â”‚          â”‚  ğŸ“Š æŒ‡æ ‡å¡ç‰‡                          â”‚
â”‚ ğŸ’¡ ç¤ºä¾‹  â”‚  âœ¨ åˆ†æç»“æœ                          â”‚
â”‚          â”‚  ğŸ“œ å†å²è®°å½•                          â”‚
â”‚ ğŸ“Š ç»Ÿè®¡  â”‚                                       â”‚
â”‚          â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è®¾è®¡å…ƒç´ 

#### 1. è‹±é›„åŒºåŸŸï¼ˆHero Sectionï¼‰
- **ä½ç½®**: é¡µé¢é¡¶éƒ¨
- **å†…å®¹**: å¤§æ ‡é¢˜ + å‰¯æ ‡é¢˜
- **æ ·å¼**: æ¸å˜æ–‡å­—ï¼Œå±…ä¸­å¯¹é½
- **ä½œç”¨**: å“ç‰Œå±•ç¤ºï¼Œå¸å¼•æ³¨æ„åŠ›

#### 2. ä¾§è¾¹æ ï¼ˆSidebarï¼‰
- **ä½ç½®**: å·¦ä¾§å›ºå®š
- **å†…å®¹**: é…ç½®é€‰é¡¹ã€ç¤ºä¾‹ã€ç»Ÿè®¡
- **æ ·å¼**: ç™½è‰²èƒŒæ™¯ï¼Œæ¸…æ™°å¸ƒå±€
- **ä½œç”¨**: ç³»ç»Ÿé…ç½®å’Œå¿«é€Ÿæ“ä½œ

#### 3. è¾“å…¥åŒºåŸŸï¼ˆInput Areaï¼‰
- **ä½ç½®**: ä¸»å†…å®¹åŒºé¡¶éƒ¨
- **å†…å®¹**: æ–‡æœ¬è¾“å…¥æ¡† + æ“ä½œæŒ‰é’®
- **æ ·å¼**: å¤§åœ†è§’ï¼Œå¡ç‰‡å¼
- **ä½œç”¨**: ç”¨æˆ·è¾“å…¥æŸ¥è¯¢

#### 4. æŒ‡æ ‡å±•ç¤ºï¼ˆMetricsï¼‰
- **ä½ç½®**: ç»“æœä¸Šæ–¹
- **å†…å®¹**: æ€è€ƒæ¬¡æ•°ã€ç»“æœé•¿åº¦ç­‰
- **æ ·å¼**: 4 åˆ—ç½‘æ ¼ï¼Œç™½è‰²å¡ç‰‡
- **ä½œç”¨**: å¿«é€Ÿäº†è§£åˆ†ææƒ…å†µ

#### 5. ç»“æœå±•ç¤ºï¼ˆResultsï¼‰
- **ä½ç½®**: ä¸»å†…å®¹åŒºä¸­éƒ¨
- **å†…å®¹**: æŸ¥è¯¢å†…å®¹ + åˆ†æç»“æœ
- **æ ·å¼**: æ¸å˜èƒŒæ™¯ï¼Œå·¦ä¾§å½©æ¡
- **ä½œç”¨**: å±•ç¤º AI åˆ†æç»“æœ

#### 6. å†å²è®°å½•ï¼ˆHistoryï¼‰
- **ä½ç½®**: ç»“æœä¸‹æ–¹
- **å†…å®¹**: æŠ˜å å¼å†å²è®°å½•
- **æ ·å¼**: å¯å±•å¼€å¡ç‰‡
- **ä½œç”¨**: æŸ¥çœ‹ä¹‹å‰çš„åˆ†æ

---

## âš™ï¸ åŠŸèƒ½è¯´æ˜

### æ ¸å¿ƒåŠŸèƒ½

#### 1. æ™ºèƒ½åˆ†æ

**ä½¿ç”¨æ–¹æ³•ï¼š**
1. åœ¨è¾“å…¥æ¡†è¾“å…¥ä½ çš„é—®é¢˜
2. ç‚¹å‡» "ğŸš€ åˆ†æ" æŒ‰é’®
3. ç­‰å¾… AI æ€è€ƒï¼ˆæ˜¾ç¤ºè¿›åº¦ï¼‰
4. æŸ¥çœ‹åˆ†æç»“æœ

**ç¤ºä¾‹æŸ¥è¯¢ï¼š**
- "åˆ†æè´µå·èŒ…å°çš„æœ€è¿‘èµ°åŠ¿"
- "è·å–å¹³å®‰é“¶è¡Œçš„æœ€æ–°æ–°é—»"
- "è®¡ç®—æ‹›å•†é“¶è¡Œçš„æŠ€æœ¯æŒ‡æ ‡"
- "å¯¹æ¯”äº”ç²®æ¶²çš„è¡Œä¸šåœ°ä½"

#### 2. å¿«é€Ÿç¤ºä¾‹

**ä½ç½®ï¼š** ä¾§è¾¹æ  "ğŸ’¡ å¿«é€Ÿå¼€å§‹" åŒºåŸŸ

**ä½¿ç”¨æ–¹æ³•ï¼š**
- ç‚¹å‡»ä»»æ„ç¤ºä¾‹æŒ‰é’®
- è‡ªåŠ¨å¡«å……åˆ°è¾“å…¥æ¡†
- è‡ªåŠ¨å¼€å§‹åˆ†æ

**åŒ…å«ç¤ºä¾‹ï¼š**
- ğŸ“ˆ èµ°åŠ¿åˆ†æ
- ğŸ“° æ–°é—»é€Ÿé€’
- ğŸ”¢ æŠ€æœ¯æŒ‡æ ‡
- ğŸ¢ è¡Œä¸šå¯¹æ¯”
- ğŸ¯ ç»¼åˆåˆ†æ

#### 3. å†å²è®°å½•

**åŠŸèƒ½ï¼š**
- è‡ªåŠ¨ä¿å­˜æ‰€æœ‰åˆ†æ
- æ”¯æŒå±•å¼€æŸ¥çœ‹è¯¦æƒ…
- æ˜¾ç¤ºæ—¶é—´æˆ³å’Œå…ƒæ•°æ®
- å¯æ¸…ç©ºæ‰€æœ‰å†å²

**æ“ä½œï¼š**
- ç‚¹å‡» "ğŸ“„" å±•å¼€å†å²é¡¹
- ç‚¹å‡» "ğŸ—‘ï¸" æ¸…ç©ºæ‰€æœ‰å†å²

#### 4. å®æ—¶ç»Ÿè®¡

**ä½ç½®ï¼š** ä¾§è¾¹æ åº•éƒ¨

**æ˜¾ç¤ºå†…å®¹ï¼š**
- æ€»åˆ†ææ¬¡æ•°
- å¹³å‡æ€è€ƒæ¬¡æ•°

---

## ğŸ”§ é…ç½®é€‰é¡¹

### æ¨¡å‹é€‰æ‹©

**å¯é€‰æ¨¡å‹ï¼š**
- `Qwen/Qwen2.5-7B-Instruct` ï¼ˆæ¨èï¼Œå…è´¹ï¼‰
- `deepseek-chat` ï¼ˆéœ€ä»˜è´¹ï¼‰
- `glm-4` ï¼ˆæ™ºè°±AIï¼Œå…è´¹é¢åº¦ï¼‰
- `moonshot-v1-8k` ï¼ˆKimiï¼Œå°‘é‡å…è´¹ï¼‰

**å»ºè®®ï¼š**
- å¼€å‘æµ‹è¯•ï¼šä½¿ç”¨ Qwenï¼ˆå…è´¹ï¼‰
- ç”Ÿäº§ç¯å¢ƒï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©

### æ¸©åº¦å‚æ•°

**èŒƒå›´ï¼š** 0.0 - 1.0

**è¯´æ˜ï¼š**
- `0.0 - 0.3`: ç¡®å®šæ€§å¼ºï¼Œé€‚åˆæ•°æ®åˆ†æ
- `0.3 - 0.7`: å¹³è¡¡ï¼Œæ¨èå€¼
- `0.7 - 1.0`: åˆ›é€ æ€§å¼ºï¼Œé€‚åˆæ–‡æœ¬ç”Ÿæˆ

**æ¨èï¼š** 0.3ï¼ˆé»˜è®¤ï¼‰

### æœ€å¤§æ€è€ƒæ¬¡æ•°

**èŒƒå›´ï¼š** 1 - 20

**è¯´æ˜ï¼š**
- æ•°å€¼è¶Šå¤§ï¼ŒAgent å¯ä»¥è°ƒç”¨æ›´å¤šå·¥å…·
- ç®€å•æŸ¥è¯¢ï¼š3-5 æ¬¡è¶³å¤Ÿ
- å¤æ‚åˆ†æï¼š10-15 æ¬¡

**æ¨èï¼š** 10ï¼ˆé»˜è®¤ï¼‰

### æ˜¾ç¤ºæ‰§è¡Œè¯¦æƒ…

**é€‰é¡¹ï¼š** å¼€å¯/å…³é—­

**è¯´æ˜ï¼š**
- å¼€å¯ï¼šæ˜¾ç¤ºæ¯æ¬¡å·¥å…·è°ƒç”¨çš„è¯¦ç»†ä¿¡æ¯
- å…³é—­ï¼šåªæ˜¾ç¤ºæœ€ç»ˆç»“æœ

**æ¨èï¼š** å…³é—­ï¼ˆæ›´ç®€æ´ï¼‰

---

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. é«˜æ•ˆæŸ¥è¯¢

**æ¸…æ™°æ˜ç¡®ï¼š**
```
âœ… å¥½: "åˆ†æè´µå·èŒ…å°ï¼ˆ600519ï¼‰çš„æœ€è¿‘èµ°åŠ¿ï¼ŒåŒ…æ‹¬æŠ€æœ¯æŒ‡æ ‡"
âŒ å·®: "èŒ…å°æ€ä¹ˆæ ·"
```

**åŒ…å«è‚¡ç¥¨ä»£ç ï¼š**
```
âœ… å¥½: "æŸ¥è¯¢å¹³å®‰é“¶è¡Œï¼ˆ000001ï¼‰"
âŒ å·®: "æŸ¥è¯¢å¹³å®‰é“¶è¡Œ"ï¼ˆå¯èƒ½æœ‰æ­§ä¹‰ï¼‰
```

**æ˜ç¡®éœ€æ±‚ï¼š**
```
âœ… å¥½: "è·å–æ‹›å•†é“¶è¡Œçš„æœ€æ–°æ–°é—»ï¼Œé‡ç‚¹å…³æ³¨ä¸šç»©æŠ¥å‘Š"
âŒ å·®: "çœ‹çœ‹æ‹›å•†é“¶è¡Œ"
```

### 2. åˆ©ç”¨ç¤ºä¾‹

- ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Ÿç‚¹å‡»ä¾§è¾¹æ ç¤ºä¾‹å¿«é€Ÿå¼€å§‹
- å‚è€ƒç¤ºä¾‹çš„æé—®æ–¹å¼
- ä¿®æ”¹ç¤ºä¾‹é€‚åº”è‡ªå·±çš„éœ€æ±‚

### 3. è°ƒæ•´é…ç½®

**ç®€å•æŸ¥è¯¢ï¼š**
- æ¸©åº¦ï¼š0.2-0.3
- æ€è€ƒæ¬¡æ•°ï¼š3-5

**å¤æ‚åˆ†æï¼š**
- æ¸©åº¦ï¼š0.3-0.5
- æ€è€ƒæ¬¡æ•°ï¼š10-15

**åˆ›æ„æ–‡æœ¬ï¼š**
- æ¸©åº¦ï¼š0.5-0.7
- æ€è€ƒæ¬¡æ•°ï¼š5-8

### 4. æŸ¥çœ‹å†å²

- éœ€è¦å¯¹æ¯”ï¼Ÿå±•å¼€å†å²è®°å½•æŸ¥çœ‹
- é‡å¤åˆ†æï¼Ÿå¤åˆ¶å†å²ä¸­çš„æŸ¥è¯¢
- å®šæœŸæ¸…ç†å†å²ä»¥æé«˜æ€§èƒ½

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: ç•Œé¢æ˜¾ç¤ºå¼‚å¸¸æˆ–æ ·å¼æ··ä¹±

**åŸå› ï¼š** æµè§ˆå™¨ç¼“å­˜é—®é¢˜

**è§£å†³ï¼š**
```bash
# æ–¹å¼1: æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
Ctrl+Shift+Delete (Chrome/Edge)
Cmd+Shift+Delete (Safari)

# æ–¹å¼2: ä½¿ç”¨æ— ç—•æ¨¡å¼
Ctrl+Shift+N (Chrome)
Cmd+Shift+N (Safari)

# æ–¹å¼3: é‡å¯ Streamlit
Ctrl+C åœæ­¢
streamlit run ui/streamlit_app.py
```

### Q2: æç¤º API å¯†é’¥æœªé…ç½®

**åŸå› ï¼š** `.env` æ–‡ä»¶æœªé…ç½®æˆ–é…ç½®é”™è¯¯

**è§£å†³ï¼š**
```bash
# 1. æ£€æŸ¥ .env æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la .env

# 2. å¦‚æœä¸å­˜åœ¨ï¼Œå¤åˆ¶æ¨¡æ¿
cp .env.example .env

# 3. ç¼–è¾‘ .env æ–‡ä»¶
vim .env  # æˆ–ä½¿ç”¨å…¶ä»–ç¼–è¾‘å™¨

# 4. å¡«å…¥ä½ çš„ API å¯†é’¥
api-key=your-actual-key-here
base-url=https://api.siliconflow.cn/v1
```

### Q3: åˆ†æé€Ÿåº¦å¾ˆæ…¢

**åŸå› ï¼š** ç½‘ç»œé—®é¢˜ã€æ¨¡å‹å“åº”æ…¢ã€æ€è€ƒæ¬¡æ•°è¿‡å¤š

**è§£å†³ï¼š**
```
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. é™ä½æœ€å¤§æ€è€ƒæ¬¡æ•°ï¼ˆ5-8ï¼‰
3. æ›´æ¢ç½‘ç»œç¯å¢ƒ
4. å°è¯•å…¶ä»–æ¨¡å‹
```

### Q4: ç»“æœä¸å‡†ç¡®æˆ–è´¨é‡å·®

**åŸå› ï¼š** æ¸©åº¦å‚æ•°è¿‡é«˜ã€æé—®ä¸å¤Ÿæ˜ç¡®

**è§£å†³ï¼š**
```
1. é™ä½æ¸©åº¦å‚æ•°ï¼ˆ0.2-0.3ï¼‰
2. ä½¿ç”¨æ›´æ˜ç¡®çš„æé—®
3. åŒ…å«è‚¡ç¥¨ä»£ç 
4. æŒ‡å®šåˆ†æç»´åº¦
```

### Q5: ç«¯å£ 8501 è¢«å ç”¨

**åŸå› ï¼š** å…¶ä»– Streamlit åº”ç”¨å ç”¨ç«¯å£

**è§£å†³ï¼š**
```bash
# æ–¹å¼1: æŒ‡å®šå…¶ä»–ç«¯å£
streamlit run ui/streamlit_app.py --server.port 8502

# æ–¹å¼2: æ€æ­»å ç”¨è¿›ç¨‹
lsof -ti:8501 | xargs kill -9
```

### Q6: å†å²è®°å½•å¤ªå¤šå¯¼è‡´å¡é¡¿

**åŸå› ï¼š** Session State å­˜å‚¨è¿‡å¤šæ•°æ®

**è§£å†³ï¼š**
```
1. ç‚¹å‡» "ğŸ—‘ï¸" æ¸…ç©ºå†å²
2. å®šæœŸæ¸…ç†å†å²è®°å½•
3. ä¿®æ”¹ä»£ç é™åˆ¶å†å²æ•°é‡ï¼ˆè§ ui/README.mdï¼‰
```

### Q7: ç§»åŠ¨ç«¯æ˜¾ç¤ºé—®é¢˜

**åŸå› ï¼š** Streamlit ä¸»è¦é’ˆå¯¹æ¡Œé¢ç«¯ä¼˜åŒ–

**å»ºè®®ï¼š**
```
1. ä½¿ç”¨æ¡Œé¢æµè§ˆå™¨
2. æ¨ªå±æŸ¥çœ‹
3. è°ƒæ•´æµè§ˆå™¨ç¼©æ”¾ï¼ˆCtrl +/-ï¼‰
```

---

## ğŸ¯ é«˜çº§æŠ€å·§

### 1. é”®ç›˜å¿«æ·é”®

- `Ctrl+Enter` / `Cmd+Enter` - æäº¤æŸ¥è¯¢ï¼ˆåœ¨è¾“å…¥æ¡†ä¸­ï¼‰
- `R` - é‡æ–°è¿è¡Œåº”ç”¨
- `Esc` - åœæ­¢è¿è¡Œ

### 2. ç½‘ç»œé…ç½®

```bash
# å…è®¸å¤–ç½‘è®¿é—®
streamlit run ui/streamlit_app.py --server.address 0.0.0.0

# ç¦ç”¨æ–‡ä»¶ç›‘è§†ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
streamlit run ui/streamlit_app.py --server.fileWatcherType none

# è®¾ç½®æœ€å¤§ä¸Šä¼ å¤§å°
streamlit run ui/streamlit_app.py --server.maxUploadSize 200
```

### 3. ä¸»é¢˜è‡ªå®šä¹‰

åˆ›å»º `.streamlit/config.toml`ï¼š

```toml
[theme]
primaryColor = "#667eea"
backgroundColor = "#ffffff"
secondaryBackgroundColor = "#f0f2f6"
textColor = "#2d3748"
font = "sans serif"
```

### 4. æ€§èƒ½ä¼˜åŒ–

```python
# åœ¨ä»£ç ä¸­æ·»åŠ ç¼“å­˜
@st.cache_resource
def load_agent():
    return StockAnalysisAgent()

# é™åˆ¶å†å²è®°å½•æ•°é‡
MAX_HISTORY = 50
if len(st.session_state.history) > MAX_HISTORY:
    st.session_state.history = st.session_state.history[:MAX_HISTORY]
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Streamlit å®˜æ–¹æ–‡æ¡£](https://docs.streamlit.io/)
- [é¡¹ç›® README](../README.md)
- [API æ–‡æ¡£](API.md)
- [è´¡çŒ®æŒ‡å—](../CONTRIBUTING.md)

---

## ğŸ†˜ è·å–å¸®åŠ©

- ğŸ“– æŸ¥çœ‹æ–‡æ¡£
- ğŸ’¬ æäº¤ Issue
- ğŸ¤ å‚ä¸è®¨è®º

---

**äº«å—ä½¿ç”¨ Stock Analysis Agent UIï¼** ğŸ‰


